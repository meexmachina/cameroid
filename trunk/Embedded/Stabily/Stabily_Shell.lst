   1               		.file	"Stabily_Shell.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__ = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  15               	.Ltext0:
  16               		.data
  17               	.LC0:
  18 0000 5354 4142 		.string	"STABILY VERSION:%03d.%d;CLOCK:%03d MHZ;\r\n"
  18      494C 5920 
  18      5645 5253 
  18      494F 4E3A 
  18      2530 3364 
  19               		.section	.text.tm_cmd_idn,"ax",@progbits
  20               	.global	tm_cmd_idn
  22               	tm_cmd_idn:
  23               	.LFB145:
  24               	.LSM0:
  25               	.LVL0:
  26               	/* prologue: function */
  27               	/* frame size = 0 */
  28               	/* stack size = 0 */
  29               	.L__stack_usage = 0
  30               	.LSM1:
  31 0000 8DB7      		in r24,__SP_L__
  32 0002 9EB7      		in r25,__SP_H__
  33               	.LVL1:
  34 0004 0897      		sbiw r24,8
  35 0006 0FB6      		in __tmp_reg__,__SREG__
  36 0008 F894      		cli
  37 000a 9EBF      		out __SP_H__,r25
  38 000c 0FBE      		out __SREG__,__tmp_reg__
  39 000e 8DBF      		out __SP_L__,r24
  40 0010 EDB7      		in r30,__SP_L__
  41 0012 FEB7      		in r31,__SP_H__
  42 0014 3196      		adiw r30,1
  43 0016 80E0      		ldi r24,lo8(.LC0)
  44 0018 90E0      		ldi r25,hi8(.LC0)
  45 001a ADB7      		in r26,__SP_L__
  46 001c BEB7      		in r27,__SP_H__
  47 001e 1296      		adiw r26,1+1
  48 0020 9C93      		st X,r25
  49 0022 8E93      		st -X,r24
  50 0024 1197      		sbiw r26,1
  51 0026 81E0      		ldi r24,lo8(1)
  52 0028 90E0      		ldi r25,hi8(1)
  53 002a 9383      		std Z+3,r25
  54 002c 8283      		std Z+2,r24
  55 002e 1582      		std Z+5,__zero_reg__
  56 0030 1482      		std Z+4,__zero_reg__
  57 0032 80E1      		ldi r24,lo8(16)
  58 0034 90E0      		ldi r25,hi8(16)
  59 0036 9783      		std Z+7,r25
  60 0038 8683      		std Z+6,r24
  61 003a 0E94 0000 		call printf
  62               	.LVL2:
  63 003e 8DB7      		in r24,__SP_L__
  64 0040 9EB7      		in r25,__SP_H__
  65 0042 0896      		adiw r24,8
  66 0044 0FB6      		in __tmp_reg__,__SREG__
  67 0046 F894      		cli
  68 0048 9EBF      		out __SP_H__,r25
  69 004a 0FBE      		out __SREG__,__tmp_reg__
  70 004c 8DBF      		out __SP_L__,r24
  71               	/* epilogue start */
  72               	.LSM2:
  73 004e 0895      		ret
  74               	.LFE145:
  76               		.data
  77               	.LC1:
  78 002a 4E65 6564 		.string	"Need int arg"
  78      2069 6E74 
  78      2061 7267 
  78      00
  79               		.section	.text.tm_cmd_set_quite_mode,"ax",@progbits
  80               	.global	tm_cmd_set_quite_mode
  82               	tm_cmd_set_quite_mode:
  83               	.LFB151:
  84               	.LSM3:
  85               	.LVL3:
  86               	/* prologue: function */
  87               	/* frame size = 0 */
  88               	/* stack size = 0 */
  89               	.L__stack_usage = 0
  90               	.LSM4:
  91 0000 8230      		cpi r24,lo8(2)
  92 0002 00F4      		brsh .L3
  93               	.LSM5:
  94 0004 00D0      		rcall .
  95 0006 80E0      		ldi r24,lo8(.LC1)
  96 0008 90E0      		ldi r25,hi8(.LC1)
  97               	.LVL4:
  98 000a EDB7      		in r30,__SP_L__
  99 000c FEB7      		in r31,__SP_H__
 100 000e 9283      		std Z+2,r25
 101 0010 8183      		std Z+1,r24
 102 0012 0E94 0000 		call printf
 103               	.LVL5:
 104               	.LSM6:
 105 0016 0F90      		pop __tmp_reg__
 106 0018 0F90      		pop __tmp_reg__
 107 001a 0895      		ret
 108               	.LVL6:
 109               	.L3:
 110               	.LSM7:
 111 001c FB01      		movw r30,r22
 112 001e 8281      		ldd r24,Z+2
 113 0020 9381      		ldd r25,Z+3
 114               	.LVL7:
 115 0022 0E94 0000 		call atoi
 116               	.LVL8:
 117 0026 21E0      		ldi r18,lo8(1)
 118               	.LVL9:
 119 0028 0097      		sbiw r24,0
 120 002a 01F4      		brne .L5
 121 002c 20E0      		ldi r18,lo8(0)
 122               	.L5:
 123               	.LVL10:
 124 002e 2093 0000 		sts g_bQuiteMode,r18
 125 0032 0895      		ret
 126               	.LFE151:
 128               		.data
 129               	.LC2:
 130 0037 4E6F 7420 		.string	"Not enough params."
 130      656E 6F75 
 130      6768 2070 
 130      6172 616D 
 130      732E 00
 131               	.LC3:
 132 004a 2578 00   		.string	"%x"
 133               		.section	.text.tm_cmd_prop_desc,"ax",@progbits
 134               	.global	tm_cmd_prop_desc
 136               	tm_cmd_prop_desc:
 137               	.LFB150:
 138               	.LSM8:
 139               	.LVL11:
 140 0000 DF93      		push r29
 141 0002 CF93      		push r28
 142 0004 00D0      		rcall .
 143 0006 CDB7      		in r28,__SP_L__
 144 0008 DEB7      		in r29,__SP_H__
 145               	/* prologue: function */
 146               	/* frame size = 2 */
 147               	/* stack size = 4 */
 148               	.L__stack_usage = 4
 149               	.LSM9:
 150 000a 8230      		cpi r24,lo8(2)
 151 000c 00F4      		brsh .L7
 152               	.LSM10:
 153 000e 00D0      		rcall .
 154 0010 80E0      		ldi r24,lo8(.LC2)
 155 0012 90E0      		ldi r25,hi8(.LC2)
 156               	.LVL12:
 157 0014 ADB7      		in r26,__SP_L__
 158 0016 BEB7      		in r27,__SP_H__
 159 0018 1296      		adiw r26,1+1
 160 001a 9C93      		st X,r25
 161 001c 8E93      		st -X,r24
 162 001e 1197      		sbiw r26,1
 163 0020 0E94 0000 		call printf
 164               	.LVL13:
 165               	.LSM11:
 166 0024 0F90      		pop __tmp_reg__
 167 0026 0F90      		pop __tmp_reg__
 168 0028 00C0      		rjmp .L6
 169               	.LVL14:
 170               	.L7:
 171               	.LSM12:
 172 002a 00D0      		rcall .
 173 002c 00D0      		rcall .
 174 002e 00D0      		rcall .
 175 0030 EDB7      		in r30,__SP_L__
 176 0032 FEB7      		in r31,__SP_H__
 177 0034 3196      		adiw r30,1
 178 0036 DB01      		movw r26,r22
 179 0038 1296      		adiw r26,2
 180 003a 8D91      		ld r24,X+
 181 003c 9C91      		ld r25,X
 182 003e 1397      		sbiw r26,2+1
 183               	.LVL15:
 184 0040 ADB7      		in r26,__SP_L__
 185 0042 BEB7      		in r27,__SP_H__
 186 0044 1296      		adiw r26,1+1
 187 0046 9C93      		st X,r25
 188 0048 8E93      		st -X,r24
 189 004a 1197      		sbiw r26,1
 190 004c 80E0      		ldi r24,lo8(.LC3)
 191 004e 90E0      		ldi r25,hi8(.LC3)
 192 0050 9383      		std Z+3,r25
 193 0052 8283      		std Z+2,r24
 194 0054 CE01      		movw r24,r28
 195 0056 0196      		adiw r24,1
 196 0058 9583      		std Z+5,r25
 197 005a 8483      		std Z+4,r24
 198 005c 0E94 0000 		call sscanf
 199               	.LVL16:
 200               	.LSM13:
 201 0060 EDB7      		in r30,__SP_L__
 202 0062 FEB7      		in r31,__SP_H__
 203 0064 3696      		adiw r30,6
 204 0066 0FB6      		in __tmp_reg__,__SREG__
 205 0068 F894      		cli
 206 006a FEBF      		out __SP_H__,r31
 207 006c 0FBE      		out __SREG__,__tmp_reg__
 208 006e EDBF      		out __SP_L__,r30
 209               	.LVL17:
 210 0070 6981      		ldd r22,Y+1
 211 0072 7A81      		ldd r23,Y+2
 212 0074 80E0      		ldi r24,lo8(DigitalCamera_SI_Interface)
 213 0076 90E0      		ldi r25,hi8(DigitalCamera_SI_Interface)
 214 0078 0E94 0000 		call CameraControl_DeviceOperation_GetPropertyDesc
 215               	.L6:
 216               	/* epilogue start */
 217               	.LSM14:
 218 007c 0F90      		pop __tmp_reg__
 219 007e 0F90      		pop __tmp_reg__
 220 0080 CF91      		pop r28
 221 0082 DF91      		pop r29
 222 0084 0895      		ret
 223               	.LFE150:
 225               		.section	.text.tm_cmd_capture,"ax",@progbits
 226               	.global	tm_cmd_capture
 228               	tm_cmd_capture:
 229               	.LFB149:
 230               	.LSM15:
 231               	.LVL18:
 232               	/* prologue: function */
 233               	/* frame size = 0 */
 234               	/* stack size = 0 */
 235               	.L__stack_usage = 0
 236               	.LSM16:
 237 0000 80E0      		ldi r24,lo8(DigitalCamera_SI_Interface)
 238 0002 90E0      		ldi r25,hi8(DigitalCamera_SI_Interface)
 239               	.LVL19:
 240 0004 64E0      		ldi r22,lo8(4)
 241 0006 70E0      		ldi r23,hi8(4)
 242               	.LVL20:
 243 0008 41E0      		ldi r20,lo8(14337)
 244 000a 58E3      		ldi r21,hi8(14337)
 245 000c 0E94 0000 		call CameraControl_DeviceOperation_Capture
 246               	/* epilogue start */
 247               	.LSM17:
 248 0010 0895      		ret
 249               	.LFE149:
 251               		.section	.text.tm_cmd_get_storage_info,"ax",@progbits
 252               	.global	tm_cmd_get_storage_info
 254               	tm_cmd_get_storage_info:
 255               	.LFB148:
 256               	.LSM18:
 257               	.LVL21:
 258 0000 CF93      		push r28
 259 0002 DF93      		push r29
 260               	/* prologue: function */
 261               	/* frame size = 0 */
 262               	/* stack size = 2 */
 263               	.L__stack_usage = 2
 264               	.LSM19:
 265 0004 C0E0      		ldi r28,lo8(DigitalCamera_SI_Interface)
 266 0006 D0E0      		ldi r29,hi8(DigitalCamera_SI_Interface)
 267 0008 CE01      		movw r24,r28
 268               	.LVL22:
 269 000a 0E94 0000 		call CameraControl_OpenSession
 270               	.LVL23:
 271               	.LSM20:
 272 000e CE01      		movw r24,r28
 273 0010 0E94 0000 		call CameraControl_StorageInfo_Printout
 274               	.LSM21:
 275 0014 CE01      		movw r24,r28
 276 0016 0E94 0000 		call CameraControl_CloseSession
 277               	/* epilogue start */
 278               	.LSM22:
 279 001a DF91      		pop r29
 280 001c CF91      		pop r28
 281 001e 0895      		ret
 282               	.LFE148:
 284               		.section	.text.tm_cmd_get_dev_info,"ax",@progbits
 285               	.global	tm_cmd_get_dev_info
 287               	tm_cmd_get_dev_info:
 288               	.LFB147:
 289               	.LSM23:
 290               	.LVL24:
 291               	/* prologue: function */
 292               	/* frame size = 0 */
 293               	/* stack size = 0 */
 294               	.L__stack_usage = 0
 295               	.LSM24:
 296 0000 80E0      		ldi r24,lo8(DigitalCamera_SI_Interface)
 297 0002 90E0      		ldi r25,hi8(DigitalCamera_SI_Interface)
 298               	.LVL25:
 299 0004 0E94 0000 		call CameraControl_DeviceInfo_Printout
 300               	.LVL26:
 301               	/* epilogue start */
 302               	.LSM25:
 303 0008 0895      		ret
 304               	.LFE147:
 306               		.data
 307               	.LC4:
 308 004d 4361 6D65 		.string	"Camera connected:%d\r\n"
 308      7261 2063 
 308      6F6E 6E65 
 308      6374 6564 
 308      3A25 640D 
 309               		.section	.text.tm_cmd_status,"ax",@progbits
 310               	.global	tm_cmd_status
 312               	tm_cmd_status:
 313               	.LFB146:
 314               	.LSM26:
 315               	.LVL27:
 316               	/* prologue: function */
 317               	/* frame size = 0 */
 318               	/* stack size = 0 */
 319               	.L__stack_usage = 0
 320               	.LSM27:
 321 0000 80E0      		ldi r24,lo8(DigitalCamera_SI_Interface)
 322 0002 90E0      		ldi r25,hi8(DigitalCamera_SI_Interface)
 323               	.LVL28:
 324 0004 0E94 0000 		call CameraControl_CameraConnected
 325               	.LVL29:
 326 0008 00D0      		rcall .
 327 000a 00D0      		rcall .
 328 000c EDB7      		in r30,__SP_L__
 329 000e FEB7      		in r31,__SP_H__
 330 0010 3196      		adiw r30,1
 331 0012 20E0      		ldi r18,lo8(.LC4)
 332 0014 30E0      		ldi r19,hi8(.LC4)
 333 0016 ADB7      		in r26,__SP_L__
 334 0018 BEB7      		in r27,__SP_H__
 335 001a 1296      		adiw r26,1+1
 336 001c 3C93      		st X,r19
 337 001e 2E93      		st -X,r18
 338 0020 1197      		sbiw r26,1
 339 0022 8283      		std Z+2,r24
 340 0024 1382      		std Z+3,__zero_reg__
 341 0026 0E94 0000 		call printf
 342 002a 0F90      		pop __tmp_reg__
 343 002c 0F90      		pop __tmp_reg__
 344 002e 0F90      		pop __tmp_reg__
 345 0030 0F90      		pop __tmp_reg__
 346               	/* epilogue start */
 347               	.LSM28:
 348 0032 0895      		ret
 349               	.LFE146:
 351               		.data
 352               	.LC5:
 353 0063 4F4B 0D00 		.string	"OK\r"
 354               		.section	.text.tm_cmd_echo_on,"ax",@progbits
 355               	.global	tm_cmd_echo_on
 357               	tm_cmd_echo_on:
 358               	.LFB144:
 359               	.LSM29:
 360               	.LVL30:
 361               	/* prologue: function */
 362               	/* frame size = 0 */
 363               	/* stack size = 0 */
 364               	.L__stack_usage = 0
 365               	.LSM30:
 366 0000 81E0      		ldi r24,lo8(1)
 367               	.LVL31:
 368 0002 8093 0000 		sts g_EchoOnOff,r24
 369               	.LSM31:
 370 0006 80E0      		ldi r24,lo8(.LC5)
 371 0008 90E0      		ldi r25,hi8(.LC5)
 372 000a 0E94 0000 		call puts
 373               	.LVL32:
 374               	/* epilogue start */
 375               	.LSM32:
 376 000e 0895      		ret
 377               	.LFE144:
 379               		.section	.text.tm_cmd_echo_off,"ax",@progbits
 380               	.global	tm_cmd_echo_off
 382               	tm_cmd_echo_off:
 383               	.LFB143:
 384               	.LSM33:
 385               	.LVL33:
 386               	/* prologue: function */
 387               	/* frame size = 0 */
 388               	/* stack size = 0 */
 389               	.L__stack_usage = 0
 390               	.LSM34:
 391 0000 1092 0000 		sts g_EchoOnOff,__zero_reg__
 392               	.LSM35:
 393 0004 80E0      		ldi r24,lo8(.LC5)
 394 0006 90E0      		ldi r25,hi8(.LC5)
 395               	.LVL34:
 396 0008 0E94 0000 		call puts
 397               	.LVL35:
 398               	/* epilogue start */
 399               	.LSM36:
 400 000c 0895      		ret
 401               	.LFE143:
 403               		.data
 404               	.LC6:
 405 0067 0D00      		.string	"\r"
 406               	.LC7:
 407 0069 5354 4142 		.string	"STABILY >> "
 407      494C 5920 
 407      3E3E 2000 
 408               		.section	.text.Stabily_Shell_Menu,"ax",@progbits
 409               	.global	Stabily_Shell_Menu
 411               	Stabily_Shell_Menu:
 412               	.LFB140:
 413               	.LSM37:
 414               	/* prologue: function */
 415               	/* frame size = 0 */
 416               	/* stack size = 0 */
 417               	.L__stack_usage = 0
 418               	.LSM38:
 419 0000 8091 0000 		lds r24,g_leftDataToGet
 420 0004 8823      		tst r24
 421 0006 01F4      		brne .L15
 422               	.LSM39:
 423 0008 8091 0000 		lds r24,g_EchoOnOff
 424 000c 8130      		cpi r24,lo8(1)
 425 000e 01F4      		brne .L15
 426               	.LSM40:
 427 0010 80E0      		ldi r24,lo8(.LC6)
 428 0012 90E0      		ldi r25,hi8(.LC6)
 429 0014 0E94 0000 		call puts
 430               	.LSM41:
 431 0018 00D0      		rcall .
 432 001a 80E0      		ldi r24,lo8(.LC7)
 433 001c 90E0      		ldi r25,hi8(.LC7)
 434 001e EDB7      		in r30,__SP_L__
 435 0020 FEB7      		in r31,__SP_H__
 436 0022 9283      		std Z+2,r25
 437 0024 8183      		std Z+1,r24
 438 0026 0E94 0000 		call printf
 439 002a 0F90      		pop __tmp_reg__
 440 002c 0F90      		pop __tmp_reg__
 441               	.L15:
 442 002e 0895      		ret
 443               	.LFE140:
 445               		.data
 446               	.LC8:
 447 0075 2000      		.string	" "
 448               	.LC9:
 449 0077 2573 3A20 		.string	"%s: Command not recognized.\r\n"
 449      436F 6D6D 
 449      616E 6420 
 449      6E6F 7420 
 449      7265 636F 
 450               		.section	.text.Stabily_Shell_Parse,"ax",@progbits
 451               	.global	Stabily_Shell_Parse
 453               	Stabily_Shell_Parse:
 454               	.LFB141:
 455               	.LSM42:
 456               	.LVL36:
 457 0000 CF92      		push r12
 458 0002 DF92      		push r13
 459 0004 EF92      		push r14
 460 0006 FF92      		push r15
 461 0008 0F93      		push r16
 462 000a 1F93      		push r17
 463 000c DF93      		push r29
 464 000e CF93      		push r28
 465 0010 CDB7      		in r28,__SP_L__
 466 0012 DEB7      		in r29,__SP_H__
 467 0014 C055      		subi r28,lo8(-(-80))
 468 0016 D040      		sbci r29,hi8(-(-80))
 469 0018 0FB6      		in __tmp_reg__,__SREG__
 470 001a F894      		cli
 471 001c DEBF      		out __SP_H__,r29
 472 001e 0FBE      		out __SREG__,__tmp_reg__
 473 0020 CDBF      		out __SP_L__,r28
 474               	/* prologue: function */
 475               	/* frame size = 80 */
 476               	/* stack size = 88 */
 477               	.L__stack_usage = 88
 478 0022 7C01      		movw r14,r24
 479               	.LVL37:
 480               	.LSM43:
 481 0024 60E0      		ldi r22,lo8(.LC8)
 482 0026 70E0      		ldi r23,hi8(.LC8)
 483 0028 0E94 0000 		call strtok
 484               	.LVL38:
 485 002c 9A83      		std Y+2,r25
 486 002e 8983      		std Y+1,r24
 487 0030 8E01      		movw r16,r28
 488 0032 0D5F      		subi r16,lo8(-(3))
 489 0034 1F4F      		sbci r17,hi8(-(3))
 490               	.LSM44:
 491 0036 DD24      		clr r13
 492               	.LVL39:
 493               	.L20:
 494               	.LSM45:
 495 0038 D394      		inc r13
 496               	.LVL40:
 497 003a 80E0      		ldi r24,lo8(0)
 498 003c 90E0      		ldi r25,hi8(0)
 499 003e 60E0      		ldi r22,lo8(.LC8)
 500 0040 70E0      		ldi r23,hi8(.LC8)
 501 0042 0E94 0000 		call strtok
 502 0046 D801      		movw r26,r16
 503 0048 8D93      		st X+,r24
 504 004a 9D93      		st X+,r25
 505 004c 8D01      		movw r16,r26
 506               	.LSM46:
 507 004e BD2D      		mov r27,r13
 508 0050 B832      		cpi r27,lo8(40)
 509 0052 01F4      		brne .L18
 510               	.L21:
 511               	.LSM47:
 512 0054 CC24      		clr r12
 513 0056 00C0      		rjmp .L19
 514               	.L18:
 515               	.LSM48:
 516 0058 0097      		sbiw r24,0
 517 005a 01F4      		brne .L20
 518 005c 00C0      		rjmp .L21
 519               	.LVL41:
 520               	.L24:
 521               	.LSM49:
 522 005e 8981      		ldd r24,Y+1
 523 0060 9A81      		ldd r25,Y+2
 524 0062 0E94 0000 		call strcmp
 525 0066 0097      		sbiw r24,0
 526 0068 01F4      		brne .L22
 527               	.LSM50:
 528 006a D801      		movw r26,r16
 529 006c 1296      		adiw r26,2
 530 006e ED91      		ld r30,X+
 531 0070 FC91      		ld r31,X
 532 0072 1397      		sbiw r26,2+1
 533 0074 8D2D      		mov r24,r13
 534 0076 BE01      		movw r22,r28
 535 0078 6F5F      		subi r22,lo8(-(1))
 536 007a 7F4F      		sbci r23,hi8(-(1))
 537 007c 0995      		icall
 538 007e 00C0      		rjmp .L26
 539               	.L22:
 540               	.LSM51:
 541 0080 C394      		inc r12
 542               	.LVL42:
 543               	.L19:
 544               	.LSM52:
 545 0082 8C2D      		mov r24,r12
 546 0084 90E0      		ldi r25,lo8(0)
 547 0086 8C01      		movw r16,r24
 548 0088 000F      		lsl r16
 549 008a 111F      		rol r17
 550 008c 080F      		add r16,r24
 551 008e 191F      		adc r17,r25
 552 0090 000F      		lsl r16
 553 0092 111F      		rol r17
 554 0094 0050      		subi r16,lo8(-(cmd_tbl))
 555 0096 1040      		sbci r17,hi8(-(cmd_tbl))
 556 0098 F801      		movw r30,r16
 557 009a 6081      		ld r22,Z
 558 009c 7181      		ldd r23,Z+1
 559 009e 6115      		cp r22,__zero_reg__
 560 00a0 7105      		cpc r23,__zero_reg__
 561 00a2 01F4      		brne .L24
 562               	.LSM53:
 563 00a4 00D0      		rcall .
 564 00a6 00D0      		rcall .
 565 00a8 80E0      		ldi r24,lo8(.LC9)
 566 00aa 90E0      		ldi r25,hi8(.LC9)
 567 00ac ADB7      		in r26,__SP_L__
 568 00ae BEB7      		in r27,__SP_H__
 569 00b0 1296      		adiw r26,1+1
 570 00b2 9C93      		st X,r25
 571 00b4 8E93      		st -X,r24
 572 00b6 1197      		sbiw r26,1
 573 00b8 1496      		adiw r26,3+1
 574 00ba FC92      		st X,r15
 575 00bc EE92      		st -X,r14
 576 00be 1397      		sbiw r26,3
 577 00c0 0E94 0000 		call printf
 578               	.LSM54:
 579 00c4 0F90      		pop __tmp_reg__
 580 00c6 0F90      		pop __tmp_reg__
 581 00c8 0F90      		pop __tmp_reg__
 582 00ca 0F90      		pop __tmp_reg__
 583               	.L26:
 584 00cc 0E94 0000 		call Stabily_Shell_Menu
 585               	/* epilogue start */
 586               	.LSM55:
 587 00d0 C05B      		subi r28,lo8(-(80))
 588 00d2 DF4F      		sbci r29,hi8(-(80))
 589 00d4 0FB6      		in __tmp_reg__,__SREG__
 590 00d6 F894      		cli
 591 00d8 DEBF      		out __SP_H__,r29
 592 00da 0FBE      		out __SREG__,__tmp_reg__
 593 00dc CDBF      		out __SP_L__,r28
 594 00de CF91      		pop r28
 595 00e0 DF91      		pop r29
 596 00e2 1F91      		pop r17
 597 00e4 0F91      		pop r16
 598 00e6 FF90      		pop r15
 599 00e8 EF90      		pop r14
 600               	.LVL43:
 601 00ea DF90      		pop r13
 602 00ec CF90      		pop r12
 603               	.LVL44:
 604 00ee 0895      		ret
 605               	.LFE141:
 607               		.section	.text.Stabily_ShellRX,"ax",@progbits
 608               	.global	Stabily_ShellRX
 610               	Stabily_ShellRX:
 611               	.LFB142:
 612               	.LSM56:
 613 0000 0F93      		push r16
 614 0002 1F93      		push r17
 615 0004 CF93      		push r28
 616 0006 DF93      		push r29
 617               	/* prologue: function */
 618               	/* frame size = 0 */
 619               	/* stack size = 4 */
 620               	.L__stack_usage = 4
 621               	.LBB21:
 622               	.LSM57:
 623 0008 C0E0      		ldi r28,lo8(msg)
 624 000a D0E0      		ldi r29,hi8(msg)
 625               	.LBB25:
 626               	.LBB26:
 627               	.LSM58:
 628 000c 18E0      		ldi r17,lo8(8)
 629               	.LBE26:
 630               	.LBE25:
 631               	.LBB22:
 632               	.LBB23:
 633 000e 00E2      		ldi r16,lo8(32)
 634               	.LBE23:
 635               	.LBE22:
 636               	.LBE21:
 637               	.LSM59:
 638 0010 00C0      		rjmp .L51
 639               	.L42:
 640               	.LBB38:
 641               	.LBB28:
 642               	.LBB29:
 643               	.LBB30:
 644               	.LBB31:
 645               	.LSM60:
 646 0012 8091 C800 		lds r24,200
 647               	.LBE31:
 648               	.LBE30:
 649               	.LSM61:
 650 0016 87FF      		sbrs r24,7
 651 0018 00C0      		rjmp .L43
 652               	.LSM62:
 653 001a 8091 CE00 		lds r24,206
 654 001e 00C0      		rjmp .L29
 655               	.L43:
 656               	.LSM63:
 657 0020 8FEF      		ldi r24,lo8(-1)
 658 0022 9FEF      		ldi r25,hi8(-1)
 659               	.L29:
 660               	.LVL45:
 661               	.LBE29:
 662               	.LBE28:
 663               	.LSM64:
 664 0024 8D30      		cpi r24,lo8(13)
 665 0026 01F0      		breq .L32
 666 0028 8A33      		cpi r24,lo8(58)
 667 002a 01F0      		breq .L32
 668 002c 8830      		cpi r24,lo8(8)
 669 002e 01F0      		breq .+2
 670 0030 00C0      		rjmp .L52
 671 0032 00C0      		rjmp .L53
 672               	.L32:
 673               	.LSM65:
 674 0034 E091 0000 		lds r30,msg_ptr
 675 0038 F091 0000 		lds r31,msg_ptr+1
 676 003c 1082      		st Z,__zero_reg__
 677               	.LSM66:
 678 003e 8091 0000 		lds r24,g_EchoOnOff
 679               	.LVL46:
 680 0042 8823      		tst r24
 681 0044 01F0      		breq .L33
 682               	.LSM67:
 683 0046 80E0      		ldi r24,lo8(.LC6)
 684 0048 90E0      		ldi r25,hi8(.LC6)
 685 004a 0E94 0000 		call puts
 686               	.L33:
 687               	.LSM68:
 688 004e 80E0      		ldi r24,lo8(last_msg)
 689 0050 90E0      		ldi r25,hi8(last_msg)
 690 0052 60E0      		ldi r22,lo8(msg)
 691 0054 70E0      		ldi r23,hi8(msg)
 692 0056 0E94 0000 		call strcpy
 693               	.LSM69:
 694 005a 8091 0000 		lds r24,msg
 695 005e 8823      		tst r24
 696 0060 01F0      		breq .L34
 697               	.LSM70:
 698 0062 80E0      		ldi r24,lo8(msg)
 699 0064 90E0      		ldi r25,hi8(msg)
 700 0066 0E94 0000 		call Stabily_Shell_Parse
 701 006a 00C0      		rjmp .L35
 702               	.L34:
 703               	.LSM71:
 704 006c 0E94 0000 		call Stabily_Shell_Menu
 705               	.L35:
 706               	.LSM72:
 707 0070 D093 0000 		sts msg_ptr+1,r29
 708 0074 C093 0000 		sts msg_ptr,r28
 709               	.LSM73:
 710 0078 00C0      		rjmp .L51
 711               	.LVL47:
 712               	.L53:
 713               	.LSM74:
 714 007a 8091 0000 		lds r24,msg_ptr
 715 007e 9091 0000 		lds r25,msg_ptr+1
 716               	.LVL48:
 717 0082 20E0      		ldi r18,hi8(msg)
 718 0084 8030      		cpi r24,lo8(msg)
 719 0086 9207      		cpc r25,r18
 720 0088 01F0      		breq .L51
 721 008a 00F0      		brlo .L51
 722               	.LSM75:
 723 008c 0197      		sbiw r24,1
 724 008e 9093 0000 		sts msg_ptr+1,r25
 725 0092 8093 0000 		sts msg_ptr,r24
 726               	.LVL49:
 727               	.L37:
 728               	.LBB32:
 729               	.LBB27:
 730               	.LSM76:
 731 0096 8091 C800 		lds r24,200
 732 009a 85FF      		sbrs r24,5
 733 009c 00C0      		rjmp .L37
 734               	.LSM77:
 735 009e 1093 CE00 		sts 206,r17
 736               	.LVL50:
 737               	.L38:
 738               	.LBE27:
 739               	.LBE32:
 740               	.LBB33:
 741               	.LBB24:
 742               	.LSM78:
 743 00a2 8091 C800 		lds r24,200
 744 00a6 85FF      		sbrs r24,5
 745 00a8 00C0      		rjmp .L38
 746               	.LSM79:
 747 00aa 0093 CE00 		sts 206,r16
 748               	.LVL51:
 749               	.L39:
 750               	.LBE24:
 751               	.LBE33:
 752               	.LBB34:
 753               	.LBB35:
 754               	.LSM80:
 755 00ae 8091 C800 		lds r24,200
 756 00b2 85FF      		sbrs r24,5
 757 00b4 00C0      		rjmp .L39
 758               	.LSM81:
 759 00b6 1093 CE00 		sts 206,r17
 760 00ba 00C0      		rjmp .L51
 761               	.LVL52:
 762               	.L52:
 763               	.LBE35:
 764               	.LBE34:
 765               	.LSM82:
 766 00bc 9091 0000 		lds r25,g_EchoOnOff
 767 00c0 9923      		tst r25
 768 00c2 01F0      		breq .L40
 769               	.L45:
 770               	.LBB36:
 771               	.LBB37:
 772               	.LSM83:
 773 00c4 9091 C800 		lds r25,200
 774 00c8 95FF      		sbrs r25,5
 775 00ca 00C0      		rjmp .L45
 776               	.LSM84:
 777 00cc 8093 CE00 		sts 206,r24
 778               	.L40:
 779               	.LBE37:
 780               	.LBE36:
 781               	.LSM85:
 782 00d0 E091 0000 		lds r30,msg_ptr
 783 00d4 F091 0000 		lds r31,msg_ptr+1
 784 00d8 8193      		st Z+,r24
 785 00da F093 0000 		sts msg_ptr+1,r31
 786 00de E093 0000 		sts msg_ptr,r30
 787               	.LVL53:
 788               	.L51:
 789               	.LBE38:
 790               	.LBB39:
 791               	.LBB40:
 792               	.LSM86:
 793 00e2 8091 C800 		lds r24,200
 794               	.LBE40:
 795               	.LBE39:
 796               	.LSM87:
 797 00e6 87FD      		sbrc r24,7
 798 00e8 00C0      		rjmp .L42
 799               	/* epilogue start */
 800               	.LSM88:
 801 00ea DF91      		pop r29
 802 00ec CF91      		pop r28
 803 00ee 1F91      		pop r17
 804 00f0 0F91      		pop r16
 805 00f2 0895      		ret
 806               	.LFE142:
 808               	.global	g_leftDataToGet
 809               	.global	g_leftDataToGet
 810               		.section .bss
 813               	g_leftDataToGet:
 814 0000 00        		.skip 1,0
 815               	.global	g_EchoOnOff
 816               		.data
 819               	g_EchoOnOff:
 820 0095 01        		.byte	1
 821               		.lcomm msg_ptr,2
 822               		.lcomm last_msg,128
 823               		.lcomm msg,128
 824               	.LC10:
 825 0096 6964 6E3F 		.string	"idn?"
 825      00
 826               	.LC11:
 827 009b 00        		.string	""
 828               	.LC12:
 829 009c 7374 6174 		.string	"status"
 829      7573 00
 830               	.LC13:
 831 00a3 656F 6600 		.string	"eof"
 832               	.LC14:
 833 00a7 656F 6E00 		.string	"eon"
 834               	.LC15:
 835 00ab 6765 745F 		.string	"get_dev_info"
 835      6465 765F 
 835      696E 666F 
 835      00
 836               	.LC16:
 837 00b8 6765 745F 		.string	"get_storage_info"
 837      7374 6F72 
 837      6167 655F 
 837      696E 666F 
 837      00
 838               	.LC17:
 839 00c9 6361 7074 		.string	"capture"
 839      7572 6500 
 840               	.LC18:
 841 00d1 7072 6F70 		.string	"prop_desc"
 841      5F64 6573 
 841      6300 
 842               	.LC19:
 843 00db 7365 745F 		.string	"set_quite"
 843      7175 6974 
 843      6500 
 844               	.LC20:
 845 00e5 302F 3100 		.string	"0/1"
 848               	cmd_tbl:
 849 00e9 0000      		.word	.LC10
 850 00eb 0000      		.word	gs(tm_cmd_idn)
 851 00ed 0000      		.word	.LC11
 852 00ef 0000      		.word	.LC12
 853 00f1 0000      		.word	gs(tm_cmd_status)
 854 00f3 0000      		.word	.LC11
 855 00f5 0000      		.word	.LC13
 856 00f7 0000      		.word	gs(tm_cmd_echo_off)
 857 00f9 0000      		.word	.LC11
 858 00fb 0000      		.word	.LC14
 859 00fd 0000      		.word	gs(tm_cmd_echo_on)
 860 00ff 0000      		.word	.LC11
 861 0101 0000      		.word	.LC15
 862 0103 0000      		.word	gs(tm_cmd_get_dev_info)
 863 0105 0000      		.word	.LC11
 864 0107 0000      		.word	.LC16
 865 0109 0000      		.word	gs(tm_cmd_get_storage_info)
 866 010b 0000      		.word	.LC11
 867 010d 0000      		.word	.LC17
 868 010f 0000      		.word	gs(tm_cmd_capture)
 869 0111 0000      		.word	.LC11
 870 0113 0000      		.word	.LC18
 871 0115 0000      		.word	gs(tm_cmd_prop_desc)
 872 0117 0000      		.word	.LC11
 873 0119 0000      		.word	.LC19
 874 011b 0000      		.word	gs(tm_cmd_set_quite_mode)
 875 011d 0000      		.word	.LC20
 876 011f 0000      		.word	0
 877 0121 0000      		.word	0
 878 0123 0000      		.word	0
 991               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 Stabily_Shell.c
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:2      *ABS*:0000003f __SREG__
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:3      *ABS*:0000003e __SP_H__
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:4      *ABS*:0000003d __SP_L__
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:5      *ABS*:00000034 __CCP__
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:6      *ABS*:00000000 __tmp_reg__
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:7      *ABS*:00000001 __zero_reg__
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:22     .text.tm_cmd_idn:00000000 tm_cmd_idn
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:82     .text.tm_cmd_set_quite_mode:00000000 tm_cmd_set_quite_mode
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:136    .text.tm_cmd_prop_desc:00000000 tm_cmd_prop_desc
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:228    .text.tm_cmd_capture:00000000 tm_cmd_capture
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:254    .text.tm_cmd_get_storage_info:00000000 tm_cmd_get_storage_info
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:287    .text.tm_cmd_get_dev_info:00000000 tm_cmd_get_dev_info
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:312    .text.tm_cmd_status:00000000 tm_cmd_status
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:357    .text.tm_cmd_echo_on:00000000 tm_cmd_echo_on
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:819    .data:00000095 g_EchoOnOff
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:382    .text.tm_cmd_echo_off:00000000 tm_cmd_echo_off
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:411    .text.Stabily_Shell_Menu:00000000 Stabily_Shell_Menu
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:813    .bss:00000000 g_leftDataToGet
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:453    .text.Stabily_Shell_Parse:00000000 Stabily_Shell_Parse
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:848    .data:000000e9 cmd_tbl
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:610    .text.Stabily_ShellRX:00000000 Stabily_ShellRX
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:822    .bss:00000083 msg
                             .bss:00000001 msg_ptr
C:\Users\david\AppData\Local\Temp\ccwvVC4H.s:821    .bss:00000003 last_msg

UNDEFINED SYMBOLS
printf
atoi
g_bQuiteMode
sscanf
DigitalCamera_SI_Interface
CameraControl_DeviceOperation_GetPropertyDesc
CameraControl_DeviceOperation_Capture
CameraControl_OpenSession
CameraControl_StorageInfo_Printout
CameraControl_CloseSession
CameraControl_DeviceInfo_Printout
CameraControl_CameraConnected
puts
strtok
strcmp
strcpy
__do_copy_data
__do_clear_bss
